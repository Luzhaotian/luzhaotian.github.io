import{r as e,g as a,e as o,o as t,c as s,a as l,V as r,a3 as n,R as i,al as d,X as u,u as c,az as m,n as p}from"./luzhaotian-CPIpaXF6.js";import{i as g,g as h}from"./luzhaotian-yy3Xs2X-.js";import{a as f}from"./luzhaotian-yQsQQ82G.js";import{u as x}from"./luzhaotian-BPrDmoYO.js";import{d as b}from"./luzhaotian-DlIAqCGy.js";import"./luzhaotian-BW68lYd9.js";import"./luzhaotian-DgIgXYHi.js";import"./luzhaotian-DpapoVaD.js";import"./luzhaotian-BnG8-Ghm.js";import"./luzhaotian-Bg5u8xPa.js";import"./luzhaotian-NJ2BUbjw.js";import"./luzhaotian-D3lHDW-0.js";const w={class:"min-h-screen flex items-center justify-center bg-gray-50"},y={class:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg"},v={class:"text-center text-3xl font-extrabold text-gray-900"},j={for:"username",class:"block text-sm font-medium text-gray-700"},k=["placeholder"],z={for:"password",class:"block text-sm font-medium text-gray-700"},$=["placeholder"],q={class:"block text-sm font-medium text-gray-700 mb-2"},C=m('<div class="flex justify-between rounded-md border-solid border border-indigo-600 h-9 my-2"><label for="zh" class="text-indigo-600 flex-cc w-1/2 has-[:checked]:bg-indigo-600 has-[:checked]:text-white cursor-pointer"><span>中文</span><input type="radio" name="lang" value="CN" id="zh" class="mr-2" checked hidden></label><label for="en" class="text-indigo-600 flex-cc w-1/2 has-[:checked]:bg-indigo-600 has-[:checked]:text-white cursor-pointer"><span>English</span><input type="radio" name="lang" value="EN" id="en" class="mr-2" hidden></label></div>',1),E={type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},L={class:"spinner"},N=[l("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)],S=Object.assign({name:"Login"},{__name:"index",setup(m){const S=e(""),V=e(""),U=e(""),_=x(),{proxy:A}=a(),O=()=>{document.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",(e=>{var a;a=e.target.value,g.global.locale=a}))}))},R=()=>{_.openLoading(),p((async()=>{try{await new Promise((e=>setTimeout(e,2e3))),_.closeLoading(),b({message:"登陆成功",type:"success",duration:5e3,showClose:!0});const e=document.querySelector('input[type="radio"]:checked');U.value=e.value,f("USER_INFO",{username:S.value,password:V.value,language:U.value}),A.$router.push({name:"home",query:{lang:U.value??h(),t:(new Date).getTime()}})}catch(e){console.error(e),_.closeLoading()}}))};return o((()=>{O()})),(e,a)=>(t(),s("div",w,[l("div",y,[l("div",null,[l("h2",v,r(e.$t("login.login")),1)]),l("form",{class:"mt-8 space-y-6",onSubmit:n(R,["prevent"])},[l("div",null,[l("label",j,r(e.$t("login.userName")),1),i(l("input",{id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>S.value=e),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:text-white placeholder:dark:text-gray-600",placeholder:e.$t("login.userName")},null,8,k),[[d,S.value]])]),l("div",null,[l("label",z,r(e.$t("login.password")),1),i(l("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>V.value=e),type:"password",required:"",autocomplete:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:text-white placeholder:dark:text-gray-600",placeholder:e.$t("login.password")},null,8,$),[[d,V.value]])]),l("div",null,[l("label",q,r(e.$t("login.language")),1),C]),l("div",null,[l("button",E,[i(l("span",null,r(e.$t("login.login")),513),[[u,!c(_).loading]]),i(l("div",L,N,512),[[u,c(_).loading]])])])],32)])]))}});export{S as default};
