import{f as e,g as a,h as l,v as t,j as o,k as r,l as s,m as n,n as i,o as d,p,q as u,r as c,s as m}from"./luzhaotian-DlIAqCGy.js";import{aC as h,o as g,P as b,M as y,g as v,r as f,w as z,k as w,c as x,R as k,u as j,aa as _,a8 as P,Q as S,X as B,a as A,J as O,T as U,W as V,K as $,ac as C,ad as D,F as L,aD as T,_ as M,L as R,am as F,U as Y,V as J}from"./luzhaotian-CPIpaXF6.js";import{Q as W}from"./luzhaotian-NJ2BUbjw.js";import{u as q}from"./luzhaotian-BPrDmoYO.js";import{t as E,b as N}from"./luzhaotian-yQsQQ82G.js";import{_ as G}from"./luzhaotian-yy3Xs2X-.js";import{u as I}from"./luzhaotian-_i4Ak2Rf.js";import"./luzhaotian-Bg5u8xPa.js";import"./luzhaotian-D3lHDW-0.js";import"./luzhaotian-BW68lYd9.js";import"./luzhaotian-DgIgXYHi.js";import"./luzhaotian-DpapoVaD.js";import"./luzhaotian-BnG8-Ghm.js";import"./luzhaotian-Cb7WvtFJ.js";const Q={__name:"index",props:{page:{},pageModifiers:{},size:{},sizeModifiers:{}},emits:["update:page","update:size"],setup(a){const l=h(a,"page"),t=h(a,"size");return(a,o)=>{const r=e;return g(),b(r,y(a.$props,{currentPage:l.value,"onUpdate:currentPage":o[0]||(o[0]=e=>l.value=e),"page-size":t.value,"onUpdate:pageSize":o[1]||(o[1]=e=>t.value=e),small:""}),null,16,["currentPage","page-size"])}}},K={ref:"paginationBox",class:"pagination-box flex-ec py-3"},X=Object.assign({name:"TableComponent"},{__name:"index",props:{downloadObject:{type:Object,default:()=>{}},isDownload:{type:Boolean,default:!0},tableColumn:{type:Array,default:()=>[],require:!0},tableData:{type:Array,default:()=>[],require:!0},tablePaginationArg:{type:Object,default:()=>{}},stripe:{type:Boolean,default:!1},isPaginationBox:{type:Boolean,default:!1}},emits:["on-pagination-change"],setup(e,{emit:r}){var s,n;const i=e,d=r;v();const p=(null==(s=null==i?void 0:i.tablePaginationArg)?void 0:s.currentPage)??1,u=(null==(n=null==i?void 0:i.tablePaginationArg)?void 0:n.pageSize)??10,c=q(),m=f([]),h=f(p),T=f(u),M=f(!1);z((()=>i.tableData),(e=>{m.value=e}),{immediate:!0,deep:!0}),z((()=>[i.tablePaginationArg.currentPage,i.tablePaginationArg.pageSize]),(([e,a],[l,t])=>{e&&(h.value=e),a&&(T.value=a)}));const R=w((()=>i.tableColumn)),F=e=>{T.value=e,d("on-pagination-change",{label:"pageSize",value:e})},Y=e=>{h.value=e,d("on-pagination-change",{label:"pageNo",value:e})},J=e=>{const{label:a,sortable:l}=e;let t=20+(void 0===l?24:0);for(let o of a)t+=o>="A"&&o<="Z"||o>="a"&&o<="z"?8:14;return t<100&&(t=100),t+"px"},N=()=>{const{url:e,data:a,method:l}=null==i?void 0:i.downloadObject;M.value=!0,((e,{method:a,data:l},t)=>{(void 0).then((e=>{const a=window.URL.createObjectURL(e.data),l=document.createElement("a");l.download="文件名字",l.href=a,l.click(),t()}))})(0,{data:a,method:l},(()=>{M.value=!1}))};return E((()=>{})),(r,s)=>{var n,i,d,p,u,v;const f=o,z=a,w=l,M=t;return g(),x("div",null,[k((g(),b(z,y({ref:"ElTableRef"},r.$attrs,{style:{width:"100%"},data:m.value,border:r.$attrs.border??!0,stripe:e.stripe}),_({default:S((()=>[(g(!0),x(L,null,P(R.value,((e,a)=>(g(),x(L,{key:`col_${a}`},["selection"===e.type?(g(),b(f,{key:0,type:"selection"})):U("",!0),V(f,{"class-name":e.className??"",sortable:e.sortable??!0,label:e.label,"show-overflow-tooltip":e.showOverflowTooltip??!0,prop:e.slot?"":e.prop,"min-width":e.width||J(e),formatter:e.formatter||null,fixed:e.fixed,"sort-method":e.sortMethod?e.sortMethod:null,"sort-by":e.sortMethod?void 0:e.sortBy?e.sortBy:(a,l)=>((e,a,l)=>null===e[l]?"":e[l]?e[l]:-1)(a,0,e.prop)},_({_:2},[e.slot?{name:"default",fn:S((a=>[O(r.$slots,e.slot,{tableSlotColum:e,tableRow:a.row})])),key:"0"}:void 0]),1032,["class-name","sortable","label","show-overflow-tooltip","prop","min-width","formatter","fixed","sort-method","sort-by"])],64)))),128))])),_:2},[P(r.$slots,((e,a)=>({name:a,fn:S((e=>[O(r.$slots,a,C(D(e)))]))})))]),1040,["data","border","stripe"])),[[M,j(c).loading]]),k(A("div",K,[A("div",null,[O(r.$slots,"paginationLeft"),e.isDownload&&(null==(n=e.downloadObject)?void 0:n.url)?(g(),b(w,{key:0,icon:j(W),circle:"",onClick:N},null,8,["icon"])):U("",!0)]),V(j(Q),{class:$({"ml-3":e.isDownload&&(null==(i=e.downloadObject)?void 0:i.url)}),onSizeChange:F,onCurrentChange:Y,"page-sizes":(null==(d=e.tablePaginationArg)?void 0:d.pageSizes)??[10,20,30,50,100],layout:(null==(p=e.tablePaginationArg)?void 0:p.layout)??"total, sizes, prev, pager, next, jumper",total:(null==(u=e.tablePaginationArg)?void 0:u.total)??0,page:h.value,"onUpdate:page":s[0]||(s[0]=e=>h.value=e),size:T.value,"onUpdate:size":s[1]||(s[1]=e=>T.value=e)},null,8,["class","page-sizes","layout","total","page","size"])],512),[[B,e.isPaginationBox||(null==(v=e.tablePaginationArg)?void 0:v.total)>0]])])}}}),Z={style:{"margin-left":"auto"}},H=G(Object.assign({name:"SearchForm"},{__name:"index",props:{form:{type:Object,default:()=>{}},searchList:{type:Array,default:()=>[]},isActions:{type:Boolean,default:!0},isResetBtn:{type:Boolean,default:!0},rulesForm:{type:Object,default:()=>{}},formLabelWidth:[String,Number]},emits:["on-search","on-reset"],setup(e,{emit:a}){T((e=>({"55325de8":O.value})));const t=f(),o=e,h=a,v=(null==o?void 0:o.rulesForm)??{},z=(null==o?void 0:o.formLabelWidth)??"auto",w=(null==o?void 0:o.form)??{},k=q(),_=M(w),B=M(v),O=f(z);return(a,o)=>{const v=s,f=n,z=i,w=d,O=p,C=u,D=l,T=c,M=m,W=r;return g(),b(W,{class:"mb-3"},{default:S((()=>{var l;return[(null==(l=e.searchList)?void 0:l.length)>0?(g(),b(M,{key:0,inline:!0,model:_,class:"search-form-inline",ref_key:"formSearchRef",ref:t,rules:B},{default:S((()=>[V(T,{gutter:20},{default:S((()=>[(g(!0),x(L,null,P(e.searchList,((e,l)=>(g(),b(C,{key:l,span:6},{default:S((()=>[V(O,{label:e.label,style:R({width:"100%",...e.formItemStyle}),prop:e.value},{default:S((()=>["input"===e.type?(g(),b(v,y({key:0,style:{width:"100%",...e.inputStyle},modelValue:_[e.value],"onUpdate:modelValue":a=>_[e.value]=a,modelModifiers:{trim:!0},clearable:e.clearable??!0,class:e.class,placeholder:e.placeholder,minlength:e.minlength??0,type:e.inputType??"text",maxlength:e.maxlength,"show-word-limit":e.showWordLimit},F(e.on??{})),null,16,["style","modelValue","onUpdate:modelValue","clearable","class","placeholder","minlength","type","maxlength","show-word-limit"])):"select"===e.type?(g(),b(z,{key:1,style:R({width:"100%",...e.selectStyle}),modelValue:_[e.value],"onUpdate:modelValue":a=>_[e.value]=a,placeholder:e.placeholder,clearable:e.clearable??!0,class:$(e.class),filterable:e.filterable??!1},{default:S((()=>[(g(!0),x(L,null,P(e.children,(({value:e,label:a},l)=>(g(),b(f,{key:l,value:e,label:a},null,8,["value","label"])))),128))])),_:2},1032,["style","modelValue","onUpdate:modelValue","placeholder","clearable","class","filterable"])):"picker"===e.type?(g(),b(w,{key:2,style:R({width:"100%",...e.pickerStyle}),modelValue:_[e.value],"onUpdate:modelValue":a=>_[e.value]=a,type:e.pickerType??"date",placeholder:e.placeholder??"","start-placeholder":"daterange"===e.pickerType?a.$t("common.startDate"):"","end-placeholder":"daterange"===e.pickerType?a.$t("common.endDate"):"","range-separator":"daterange"===e.pickerType?a.$t("common.dateTo"):"",clearable:e.clearable??!0,class:$(e.class),"value-format":e.valueFormat??"YYYY-MM-DD"},null,8,["style","modelValue","onUpdate:modelValue","type","placeholder","start-placeholder","end-placeholder","range-separator","clearable","class","value-format"])):U("",!0)])),_:2},1032,["label","style","prop"])])),_:2},1024)))),128)),e.isActions?(g(),b(C,{key:0,span:6,style:{display:"flex",width:"100%","margin-left":"auto"}},{default:S((()=>[A("div",Z,[V(D,{type:"primary",loading:j(k).loading,onClick:o[0]||(o[0]=e=>(async e=>{e&&await e.validate(((e,a)=>{e?h("on-search",_):console.log("error submit!",a)}))})(t.value))},{default:S((()=>[Y(J(a.$t("common.search")),1)])),_:1},8,["loading"]),e.isResetBtn?(g(),b(D,{key:0,type:"primary",onClick:o[1]||(o[1]=e=>(t.value.resetFields(),console.log(_),void h("on-reset",_)))},{default:S((()=>[Y(J(a.$t("common.reset")),1)])),_:1})):U("",!0)])])),_:1})):U("",!0)])),_:1})])),_:1},8,["model","rules"])):U("",!0)]})),_:1})}}}),[["__scopeId","data-v-5e4f2437"]]),ee={class:"wh-full"},ae=Object.assign({name:"User"},{__name:"index",setup(e){const a=M({currentPage:1,pageSize:10}),l=M({total:0,pageSizes:[10,20,30,40,50,100],layout:"total, sizes, prev, pager, next, jumper"}),t=I(),o=M({name:"",age:"",height:"",sex:"",birthday:[]}),r=[{label:"名字",prop:"name"},{label:"年龄",prop:"age"},{label:"身高",prop:"height"},{label:"性别",prop:"sex"},{label:"生日",prop:"birthday"}],s=f([{name:"Jane Doe",age:25,height:165,sex:"女",birthday:"02-15"},{name:"Jim Green",age:30,height:180,sex:"男",birthday:"03-10"},{name:"Joe Black",age:22,height:170,sex:"不详",birthday:"04-20"},{name:"Alice Blue",age:28,height:168,sex:"女",birthday:"05-25"},{name:"Bob Red",age:35,height:182,sex:"不详",birthday:"06-10"},{name:"Charlie Yellow",age:29,height:175,sex:"男",birthday:"07-20"},{name:"David Green",age:24,height:178,sex:"不详",birthday:"08-15"},{name:"Eva Brown",age:31,height:168,sex:"女",birthday:"09-10"},{name:"Frank Black",age:27,height:180,sex:"男",birthday:"10-20"}]),n=M([{label:"姓名",value:"name",type:"input",placeholder:"请输入姓名",on:{input:e=>{console.log(e),e.length>4&&(o.name="",console.log("长度大于4"))}}},{label:"年龄",value:"age",type:"input",placeholder:"请输入年龄"},{label:"身高",value:"height",type:"input",placeholder:"请输入身高"},{label:"性别",value:"sex",type:"select",placeholder:"请输入性别",children:w((()=>t.sex))},{label:"生日",value:"birthday",type:"picker",placeholder:"请选择生日",pickerType:"daterange"}]),i=e=>{console.log(e)};return N((()=>{t.setOptions("sex")})),(e,t)=>(g(),x("div",ee,[V(j(H),{form:o,searchList:n,onOnSearch:i},null,8,["form","searchList"]),V(j(X),{"table-pagination-arg":{...l,currentPage:a.currentPage,pageSize:a.pageSize},"table-column":r,"table-data":s.value},null,8,["table-pagination-arg","table-data"])]))}});export{ae as default};
